"use strict";var burger=document.querySelector(".header__burger"),burgerBar=document.querySelectorAll(".header__burger div"),content=document.querySelector(".header__burger-content");if(burger.addEventListener("click",function(e){e.preventDefault();for(var t=0;t<burgerBar.length;t++)burgerBar[t].classList.toggle("change");content.classList.toggle("is-active")}),document.querySelector("body").classList.contains("page-id-5")||document.querySelector("body").classList.contains("page-id-7")){var vid=document.querySelector(".video-intro__player video"),vid_fade=document.querySelector(".video-intro__fade-effect"),btn_play=document.querySelector(".video-intro__button"),vid_name=document.querySelector(".video-intro__page-name"),vid_title=document.querySelector(".video-intro__title"),vid_bg=document.querySelector(".video-intro__bg"),vid_txt=document.querySelector(".video-intro__paragraph");btn_play.addEventListener("click",function(e){e.preventDefault(),vid.paused?(vid_fade.classList.add("active"),vid_name.style.opacity=0,vid_title.style.opacity=0,vid_txt.style.opacity=0,btn_play.style.opacity=0,vid_bg.style.display="none",vid.play()):(vid_fade.classList.remove("active"),vid.pause())}),vid_fade.addEventListener("click",function(e){e.preventDefault(),vid.paused||(vid_fade.classList.remove("active"),vid.pause(),vid_name.style.opacity=1,vid_title.style.opacity=1,vid_txt.style.opacity=1,btn_play.style.opacity=1)})}if(document.querySelector("body").classList.contains("home")){var previous=function(){slides_container.style.transform="translate(0)",setTimeout(function(){slides_container.className+=" slider__slides--return",slides_container.style.transform="translate(calc(-100%/"+slides.length+"))",slides[0].before(slides[slides.length-1]),slides=[].slice.call(slider.querySelectorAll(".slider__slide"))},300),slides_container.classList.remove("slider__slides--return"),tiles_container.querySelector(".tile--active").classList.remove("tile--active"),tiles[slides[0].getAttribute("index")].className+=" tile--active"},next=function(){slides_container.style.transform="translate(calc(-200%/"+slides.length+"))",setTimeout(function(){slides_container.className+=" slider__slides--return",slides_container.style.transform="translate(calc(-100%/"+slides.length+"))",slides[slides.length-1].after(slides[0]),slides=[].slice.call(slider.querySelectorAll(".slider__slide"))},300),slides_container.classList.remove("slider__slides--return"),tiles_container.querySelector(".tile--active").classList.remove("tile--active"),tiles[slides[2].getAttribute("index")].className+=" tile--active"},previous2=function(){slides_container2.style.transform="translate(0)",setTimeout(function(){slides_container2.className+=" slider2__slides--return",slides_container2.style.transform="translate(calc(-100%/"+slides2.length+"))",slides2[0].before(slides2[slides2.length-1]),slides2=[].slice.call(slider2.querySelectorAll(".slider2__slide"))},300),slides_container2.classList.remove("slider2__slides--return")},next2=function(){slides_container2.style.transform="translate(calc(-200%/"+slides2.length+"))",setTimeout(function(){slides_container2.className+=" slider2__slides--return",slides_container2.style.transform="translate(calc(-100%/"+slides2.length+"))",slides2[slides2.length-1].after(slides2[0]),slides2=[].slice.call(slider2.querySelectorAll(".slider2__slide"))},300),slides_container2.classList.remove("slider2__slides--return")},i=0,slider=document.querySelector(".slider"),slides_container=slider.querySelector(".slider__slides"),slides=[].slice.call(slider.querySelectorAll(".slider__slide")),controllers=slider.querySelector(".slider__controllers"),prev_button=controllers.querySelector(".controllers__prev"),next_button=controllers.querySelector(".controllers__next"),tiles_container=controllers.querySelector(".controllers__tiles"),tiles=[].slice.call(tiles_container.querySelectorAll(".tile"));slides_container.style.width=100*slides.length+"%",slides_container.style.transform="translate(calc(-100%/"+slides.length+"))",prev_button.addEventListener("click",function(e){e.preventDefault(),previous()}),next_button.addEventListener("click",function(e){e.preventDefault(),next()}),tiles_container.addEventListener("click",function(e){if(e.preventDefault(),void 0!==tiles[tiles.indexOf(e.target)]&&!tiles[tiles.indexOf(e.target)].classList.contains("tile--active")){tiles_container.querySelector(".tile--active").classList.remove("tile--active"),e.target.className+=" tile--active";var t=slides.indexOf(slides_container.querySelector('[index="'+tiles.indexOf(e.target)+'"]'));t<1?previous():t>1&&next()}});var autoSlide=setInterval(next,5e3);slider.addEventListener("mouseover",function(){clearInterval(autoSlide)}),slider.addEventListener("mouseout",function(){autoSlide=setInterval(next,5e3)});var slider2=document.querySelector(".slider2"),slides_container2=slider2.querySelector(".slider2__slides"),slides2=[].slice.call(slider2.querySelectorAll(".slider2__slide")),controllers2=slider2.querySelector(".slider2__controllers2"),prev_button2=controllers2.querySelector(".controllers2__prev"),next_button2=controllers2.querySelector(".controllers2__next");slides_container2.style.width=100*slides2.length+"%",slides_container2.style.transform="translate(calc(-100%/"+slides2.length+"))",prev_button2.addEventListener("click",function(e){e.preventDefault(),previous2()}),next_button2.addEventListener("click",function(e){e.preventDefault(),next2()});var autoSlide2=setInterval(next2,5e3);slider2.addEventListener("mouseover",function(){clearInterval(autoSlide2)}),slider2.addEventListener("mouseout",function(){autoSlide2=setInterval(next2,5e3)});var height=0;document.querySelectorAll(".stories").forEach(function(e){e.offsetHeight>height&&(height=e.offsetHeight)}),slides2.forEach(function(e){e.style.height=height+"px"}),document.querySelectorAll(".stories").forEach(function(e){e.style.height=height+"px"}),window.addEventListener("resize",function(){var e=0;document.querySelectorAll(".stories").forEach(function(t){t.offsetHeight>e&&(e=t.offsetHeight)}),console.log(e),slides2.forEach(function(t){t.style.height=e+"px"}),document.querySelectorAll(".stories").forEach(function(t){t.style.height=e+"px"})})}if(document.querySelector("body").classList.contains("page-id-5")){var _previous=function(){_slides_container.querySelector(".slider__slide--active").classList.remove("slider__slide--active"),_slides[0].className+=" slider__slide--active",_slides_container.style.transform="translate(calc((-50%/"+_slides.length+") + (2* (50%/"+_slides.length+")))",setTimeout(function(){_slides_container.className+=" slider__slides--return",_slides_container.style.transform="translate(calc(-50%/"+_slides.length+"))",_slides[0].before(_slides[_slides.length-1]),_slides=[].slice.call(_slider.querySelectorAll(".slider__slide"))},300),_slides_container.classList.remove("slider__slides--return"),_tiles_container.querySelector(".tile--active").classList.remove("tile--active"),_tiles[_slides[0].getAttribute("index")].className+=" tile--active"},_next=function(){_slides_container.querySelector(".slider__slide--active").classList.remove("slider__slide--active"),_slides[2].className+=" slider__slide--active",_slides_container.style.transform="translate(calc((-50%/"+_slides.length+") - (2* (50%/"+_slides.length+")))",setTimeout(function(){_slides_container.className+=" slider__slides--return",_slides_container.style.transform="translate(calc(-50%/"+_slides.length+"))",_slides[_slides.length-1].after(_slides[0]),_slides=[].slice.call(_slider.querySelectorAll(".slider__slide"))},300),_slides_container.classList.remove("slider__slides--return"),_tiles_container.querySelector(".tile--active").classList.remove("tile--active"),_tiles[_slides[2].getAttribute("index")].className+=" tile--active"},_i=0,_slider=document.querySelector(".slider-concept"),_slides_container=_slider.querySelector(".slider__slides"),_slides=[].slice.call(_slider.querySelectorAll(".slider__slide")),_controllers=_slider.querySelector(".slider__controllers"),_prev_button=_controllers.querySelector(".controllers__prev"),_next_button=_controllers.querySelector(".controllers__next"),_tiles_container=_controllers.querySelector(".controllers__tiles"),_tiles=[].slice.call(_tiles_container.querySelectorAll(".tile"));_slides_container.style.width=50*_slides.length+"%",_slides_container.style.transform="translate(calc(-50%/"+_slides.length+"))",_slides[1].className+=" slider__slide--active",_prev_button.addEventListener("click",function(e){e.preventDefault(),_previous()}),_next_button.addEventListener("click",function(e){e.preventDefault(),_next()}),_tiles_container.addEventListener("click",function(e){if(e.preventDefault(),void 0!==_tiles[_tiles.indexOf(e.target)]&&!_tiles[_tiles.indexOf(e.target)].classList.contains("tile--active")){_tiles_container.querySelector(".tile--active").classList.remove("tile--active"),e.target.className+=" tile--active";var t=_slides.indexOf(_slides_container.querySelector('[index="'+_tiles.indexOf(e.target)+'"]'));t<1?_previous():t>1&&_next()}});var _autoSlide=setInterval(_next,5e3);_slider.addEventListener("mouseover",function(){clearInterval(_autoSlide)}),_slider.addEventListener("mouseout",function(){_autoSlide=setInterval(_next,5e3)})}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnVyZ2VyQmFyIiwicXVlcnlTZWxlY3RvckFsbCIsImNvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaSIsImxlbmd0aCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNvbnRhaW5zIiwidmlkIiwidmlkX2ZhZGUiLCJidG5fcGxheSIsInZpZF9uYW1lIiwidmlkX3RpdGxlIiwidmlkX2JnIiwidmlkX3R4dCIsInBhdXNlZCIsImFkZCIsInN0eWxlIiwib3BhY2l0eSIsImRpc3BsYXkiLCJwbGF5IiwicmVtb3ZlIiwicGF1c2UiLCJwcmV2aW91cyIsInNsaWRlc19jb250YWluZXIiLCJ0cmFuc2Zvcm0iLCJzZXRUaW1lb3V0IiwiY2xhc3NOYW1lIiwic2xpZGVzIiwiYmVmb3JlIiwic2xpY2UiLCJjYWxsIiwic2xpZGVyIiwidGlsZXNfY29udGFpbmVyIiwidGlsZXMiLCJnZXRBdHRyaWJ1dGUiLCJuZXh0IiwiYWZ0ZXIiLCJwcmV2aW91czIiLCJzbGlkZXNfY29udGFpbmVyMiIsInNsaWRlczIiLCJzbGlkZXIyIiwibmV4dDIiLCJjb250cm9sbGVycyIsInByZXZfYnV0dG9uIiwibmV4dF9idXR0b24iLCJ3aWR0aCIsInVuZGVmaW5lZCIsImluZGV4T2YiLCJ0YXJnZXQiLCJwbGFjZSIsImF1dG9TbGlkZSIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNvbnRyb2xsZXJzMiIsInByZXZfYnV0dG9uMiIsIm5leHRfYnV0dG9uMiIsImF1dG9TbGlkZTIiLCJoZWlnaHQiLCJmb3JFYWNoIiwiZWwiLCJvZmZzZXRIZWlnaHQiLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiYUFNQSxJQUFBQSxPQUFBQyxTQUFBQyxjQUFBLG1CQUNBQyxVQUFBRixTQUFBRyxpQkFBQSx1QkFDQUMsUUFBQUos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YyxRQUFBL0MsRUFBQWdELFFBQUEsT0FDQUMsRUFBQSxFQUNBM0IsWUFFQTJCLEVBQUEsR0FDQWQsV0FxQ0EsSUFBQWUsV0FBQUMsWUFBQWhCLE1BQUEsS0FFQUosUUFBQWhDLGlCQUFBLFlBQUEsV0FDQXFELGNBQUFGLGNBR0FuQixRQUFBaEMsaUJBQUEsV0FBQSxXQUNBbUQsV0FBQUMsWUFBQWhCLE1BQUEiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFxuXG4gICAgTUVOVSBCVVJHRVJcblxuKi9cblxuY29uc3QgYnVyZ2VyICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnVyZ2VyJyksXG4gICAgICBidXJnZXJCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGVhZGVyX19idXJnZXIgZGl2JyksXG4gICAgICBjb250ZW50ICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19idXJnZXItY29udGVudCcpXG5cbmJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9Plxue1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVyZ2VyQmFyLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgYnVyZ2VyQmFyW2ldLmNsYXNzTGlzdC50b2dnbGUoXCJjaGFuZ2VcIilcbiAgICB9XG4gICAgY29udGVudC5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtYWN0aXZlXCIpXG59KVxuXG4vKiogXG5cbiAgICBWSURFTyBDT05DRVBUICYgVklTSU9OXG5cbiovXG5cbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdwYWdlLWlkLTUnKcKgIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKS5jbGFzc0xpc3QuY29udGFpbnMoJ3BhZ2UtaWQtNycpKVxue1xuICAgIGNvbnN0IHZpZCAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1pbnRyb19fcGxheWVyIHZpZGVvJyksXG4gICAgICAgICAgdmlkX2ZhZGUgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLWludHJvX19mYWRlLWVmZmVjdCcpLFxuICAgICAgICAgIGJ0bl9wbGF5ICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1pbnRyb19fYnV0dG9uJyksXG4gICAgICAgICAgdmlkX25hbWUgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLWludHJvX19wYWdlLW5hbWUnKSxcbiAgICAgICAgICB2aWRfdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmlkZW8taW50cm9fX3RpdGxlJyksXG4gICAgICAgICAgdmlkX2JnICAgID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZpZGVvLWludHJvX19iZycpLFxuICAgICAgICAgIHZpZF90eHQgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1pbnRyb19fcGFyYWdyYXBoJylcblxuICAgIGJ0bl9wbGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+XG4gICAge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYgKHZpZC5wYXVzZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZF9mYWRlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgICAgICB2aWRfbmFtZS5zdHlsZS5vcGFjaXR5ID0gMFxuICAgICAgICAgICAgdmlkX3RpdGxlLnN0eWxlLm9wYWNpdHkgPSAwXG4gICAgICAgICAgICB2aWRfdHh0LnN0eWxlLm9wYWNpdHkgPSAwXG4gICAgICAgICAgICBidG5fcGxheS5zdHlsZS5vcGFjaXR5ID0gMFxuICAgICAgICAgICAgdmlkX2JnLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICAgICAgICAgIHZpZC5wbGF5KClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIFxuICAgICAgICB7XG4gICAgICAgICAgICB2aWRfZmFkZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICAgICAgdmlkLnBhdXNlKClcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICB2aWRfZmFkZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxuICAgIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGlmICh2aWQucGF1c2VkKSBcbiAgICAgICAge1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZF9mYWRlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICB2aWQucGF1c2UoKVxuICAgICAgICAgICAgdmlkX25hbWUuc3R5bGUub3BhY2l0eSA9IDFcbiAgICAgICAgICAgIHZpZF90aXRsZS5zdHlsZS5vcGFjaXR5ID0gMVxuICAgICAgICAgICAgdmlkX3R4dC5zdHlsZS5vcGFjaXR5ID0gMVxuICAgICAgICAgICAgYnRuX3BsYXkuc3R5bGUub3BhY2l0eSA9IDFcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbi8qKiBcblxuICAgIFNMSURFUlMgSE9NRVxuXG4qL1xuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5jb250YWlucygnaG9tZScpKVxue1xuICBsZXQgaSA9IDBcbiAgY29uc3Qgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpXG4gIGNvbnN0IHNsaWRlc19jb250YWluZXIgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fc2xpZGVzJylcbiAgbGV0IHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwoc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX3NsaWRlJykpXG4gIGNvbnN0IGNvbnRyb2xsZXJzID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2NvbnRyb2xsZXJzJylcbiAgY29uc3QgcHJldl9idXR0b24gPSBjb250cm9sbGVycy5xdWVyeVNlbGVjdG9yKCcuY29udHJvbGxlcnNfX3ByZXYnKVxuICBjb25zdCBuZXh0X2J1dHRvbiA9IGNvbnRyb2xsZXJzLnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sbGVyc19fbmV4dCcpXG4gIGNvbnN0IHRpbGVzX2NvbnRhaW5lciA9IGNvbnRyb2xsZXJzLnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sbGVyc19fdGlsZXMnKVxuICBjb25zdCB0aWxlcyA9IFtdLnNsaWNlLmNhbGwodGlsZXNfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy50aWxlJykpXG5cbiAgc2xpZGVzX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9IChzbGlkZXMubGVuZ3RoICogMTAwKSArICclJ1xuICBzbGlkZXNfY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoY2FsYygtMTAwJS8nICsgc2xpZGVzLmxlbmd0aCArICcpKSdcblxuICBwcmV2X2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxuICB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgcHJldmlvdXMoKVxuICB9KVxuXG4gIG5leHRfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+XG4gIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBuZXh0KClcbiAgfSlcblxuICB0aWxlc19jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT5cbiAge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGlmICh0aWxlc1t0aWxlcy5pbmRleE9mKGUudGFyZ2V0KV0gIT09IHVuZGVmaW5lZCAmJiAhdGlsZXNbdGlsZXMuaW5kZXhPZihlLnRhcmdldCldLmNsYXNzTGlzdC5jb250YWlucygndGlsZS0tYWN0aXZlJykpIHtcbiAgICAgIHRpbGVzX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudGlsZS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndGlsZS0tYWN0aXZlJylcbiAgICAgIGUudGFyZ2V0LmNsYXNzTmFtZSArPSAnIHRpbGUtLWFjdGl2ZSdcblxuICAgICAgY29uc3QgcGxhY2UgPSBzbGlkZXMuaW5kZXhPZihzbGlkZXNfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ1tpbmRleD1cIicgKyB0aWxlcy5pbmRleE9mKGUudGFyZ2V0KSArICdcIl0nKSlcbiAgICAgIGlmIChwbGFjZSA8IDEpIHtcbiAgICAgICAgcHJldmlvdXMoKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAocGxhY2UgPiAxKSB7XG4gICAgICAgIG5leHQoKVxuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgXG4gIGZ1bmN0aW9uIHByZXZpb3VzKCkge1xuICAgIHNsaWRlc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwKSdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNsaWRlc19jb250YWluZXIuY2xhc3NOYW1lICs9ICcgc2xpZGVyX19zbGlkZXMtLXJldHVybidcbiAgICAgIHNsaWRlc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKC0xMDAlLycgKyBzbGlkZXMubGVuZ3RoICsgJykpJ1xuICAgICAgc2xpZGVzWzBdLmJlZm9yZShzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSlcbiAgICAgIHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwoc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX3NsaWRlJykpXG4gICAgfSwgMzAwKVxuICAgIHNsaWRlc19jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zbGlkZXMtLXJldHVybicpXG5cbiAgICB0aWxlc19jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpbGUtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RpbGUtLWFjdGl2ZScpXG4gICAgdGlsZXNbc2xpZGVzWzBdLmdldEF0dHJpYnV0ZSgnaW5kZXgnKV0uY2xhc3NOYW1lICs9ICcgdGlsZS0tYWN0aXZlJ1xuICB9XG4gIFxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNsaWRlc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKC0yMDAlLycgKyBzbGlkZXMubGVuZ3RoICsgJykpJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2xpZGVzX2NvbnRhaW5lci5jbGFzc05hbWUgKz0gJyBzbGlkZXJfX3NsaWRlcy0tcmV0dXJuJ1xuICAgICAgc2xpZGVzX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKGNhbGMoLTEwMCUvJyArIHNsaWRlcy5sZW5ndGggKyAnKSknXG4gICAgICBzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXS5hZnRlcihzbGlkZXNbMF0pXG4gICAgICBzbGlkZXMgPSBbXS5zbGljZS5jYWxsKHNsaWRlci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19zbGlkZScpKVxuICAgIH0sIDMwMClcbiAgICBzbGlkZXNfY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2xpZGVzLS1yZXR1cm4nKVxuXG4gICAgdGlsZXNfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50aWxlLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0aWxlLS1hY3RpdmUnKVxuICAgIHRpbGVzW3NsaWRlc1syXS5nZXRBdHRyaWJ1dGUoJ2luZGV4JyldLmNsYXNzTmFtZSArPSAnIHRpbGUtLWFjdGl2ZSdcbiAgfVxuICBcbiAgbGV0IGF1dG9TbGlkZSA9IHNldEludGVydmFsKG5leHQsIDUwMDApXG4gIFxuICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbChhdXRvU2xpZGUpXG4gIH0pXG4gIFxuICBzbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsICgpID0+IHtcbiAgICBhdXRvU2xpZGUgPSBzZXRJbnRlcnZhbChuZXh0LCA1MDAwKVxuICB9KVxuICBcbiAgXG4gIGNvbnN0IHNsaWRlcjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyMicpXG4gIGNvbnN0IHNsaWRlc19jb250YWluZXIyID0gc2xpZGVyMi5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyMl9fc2xpZGVzJylcbiAgbGV0IHNsaWRlczIgPSBbXS5zbGljZS5jYWxsKHNsaWRlcjIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcjJfX3NsaWRlJykpXG4gIGNvbnN0IGNvbnRyb2xsZXJzMiA9IHNsaWRlcjIucXVlcnlTZWxlY3RvcignLnNsaWRlcjJfX2NvbnRyb2xsZXJzMicpXG4gIGNvbnN0IHByZXZfYnV0dG9uMiA9IGNvbnRyb2xsZXJzMi5xdWVyeVNlbGVjdG9yKCcuY29udHJvbGxlcnMyX19wcmV2JylcbiAgY29uc3QgbmV4dF9idXR0b24yID0gY29udHJvbGxlcnMyLnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sbGVyczJfX25leHQnKVxuXG4gIHNsaWRlc19jb250YWluZXIyLnN0eWxlLndpZHRoID0gKHNsaWRlczIubGVuZ3RoICogMTAwKSArICclJ1xuICBzbGlkZXNfY29udGFpbmVyMi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKGNhbGMoLTEwMCUvJyArIHNsaWRlczIubGVuZ3RoICsgJykpJ1xuXG4gIHByZXZfYnV0dG9uMi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PlxuICB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgcHJldmlvdXMyKClcbiAgfSlcblxuICBuZXh0X2J1dHRvbjIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT5cbiAge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIG5leHQyKClcbiAgfSlcbiAgXG4gIGZ1bmN0aW9uIHByZXZpb3VzMigpIHtcbiAgICBzbGlkZXNfY29udGFpbmVyMi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKDApJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2xpZGVzX2NvbnRhaW5lcjIuY2xhc3NOYW1lICs9ICcgc2xpZGVyMl9fc2xpZGVzLS1yZXR1cm4nXG4gICAgICBzbGlkZXNfY29udGFpbmVyMi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKGNhbGMoLTEwMCUvJyArIHNsaWRlczIubGVuZ3RoICsgJykpJ1xuICAgICAgc2xpZGVzMlswXS5iZWZvcmUoc2xpZGVzMltzbGlkZXMyLmxlbmd0aC0xXSlcbiAgICAgIHNsaWRlczIgPSBbXS5zbGljZS5jYWxsKHNsaWRlcjIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcjJfX3NsaWRlJykpXG4gICAgfSwgMzAwKVxuICAgIHNsaWRlc19jb250YWluZXIyLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcjJfX3NsaWRlcy0tcmV0dXJuJylcbiAgfVxuICBcbiAgZnVuY3Rpb24gbmV4dDIoKSB7XG4gICAgc2xpZGVzX2NvbnRhaW5lcjIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKC0yMDAlLycgKyBzbGlkZXMyLmxlbmd0aCArICcpKSdcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNsaWRlc19jb250YWluZXIyLmNsYXNzTmFtZSArPSAnIHNsaWRlcjJfX3NsaWRlcy0tcmV0dXJuJ1xuICAgICAgc2xpZGVzX2NvbnRhaW5lcjIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKC0xMDAlLycgKyBzbGlkZXMyLmxlbmd0aCArICcpKSdcbiAgICAgIHNsaWRlczJbc2xpZGVzMi5sZW5ndGgtMV0uYWZ0ZXIoc2xpZGVzMlswXSlcbiAgICAgIHNsaWRlczIgPSBbXS5zbGljZS5jYWxsKHNsaWRlcjIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcjJfX3NsaWRlJykpXG4gICAgfSwgMzAwKVxuICAgIHNsaWRlc19jb250YWluZXIyLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcjJfX3NsaWRlcy0tcmV0dXJuJylcbiAgfVxuICBcbiAgbGV0IGF1dG9TbGlkZTIgPSBzZXRJbnRlcnZhbChuZXh0MiwgNTAwMClcbiAgXG4gIHNsaWRlcjIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbChhdXRvU2xpZGUyKVxuICB9KVxuICBcbiAgc2xpZGVyMi5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgIGF1dG9TbGlkZTIgPSBzZXRJbnRlcnZhbChuZXh0MiwgNTAwMClcbiAgfSlcbiAgXG5cbiAgbGV0IGhlaWdodCA9IDA7IC8vIHRoZSBoZWlnaHQgb2YgdGhlIGhpZ2hlc3QgZWxlbWVudCAoYWZ0ZXIgdGhlIGZ1bmN0aW9uIHJ1bnMpXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdG9yaWVzJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoZWwub2Zmc2V0SGVpZ2h0ID4gaGVpZ2h0KSB7XG4gICAgICBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHRcbiAgICB9XG4gIH0pXG4gIHNsaWRlczIuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXG4gIH0pXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdG9yaWVzJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBlbC5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnXG4gIH0pXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgICBsZXQgaGVpZ2h0ID0gMDsgLy8gdGhlIGhlaWdodCBvZiB0aGUgaGlnaGVzdCBlbGVtZW50IChhZnRlciB0aGUgZnVuY3Rpb24gcnVucylcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RvcmllcycpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBpZiAoZWwub2Zmc2V0SGVpZ2h0ID4gaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IGVsLm9mZnNldEhlaWdodFxuICAgICAgfVxuICAgIH0pXG4gICAgY29uc29sZS5sb2coaGVpZ2h0KVxuICAgIHNsaWRlczIuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcbiAgICB9KVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdG9yaWVzJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCdcbiAgICB9KVxuICB9KVxufVxuXG4vKiogXG5cbiAgICBTTElERVIgQ09OQ0VQVFxuXG4qL1xuXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5jb250YWlucygncGFnZS1pZC01JykpIHtcbiAgbGV0IGkgPSAwXG4gIGNvbnN0IHNsaWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29uY2VwdCcpXG4gIGNvbnN0IHNsaWRlc19jb250YWluZXIgPSBzbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fc2xpZGVzJylcbiAgbGV0IHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwoc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX3NsaWRlJykpXG4gIGNvbnN0IGNvbnRyb2xsZXJzID0gc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2NvbnRyb2xsZXJzJylcbiAgY29uc3QgcHJldl9idXR0b24gPSBjb250cm9sbGVycy5xdWVyeVNlbGVjdG9yKCcuY29udHJvbGxlcnNfX3ByZXYnKVxuICBjb25zdCBuZXh0X2J1dHRvbiA9IGNvbnRyb2xsZXJzLnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sbGVyc19fbmV4dCcpXG4gIGNvbnN0IHRpbGVzX2NvbnRhaW5lciA9IGNvbnRyb2xsZXJzLnF1ZXJ5U2VsZWN0b3IoJy5jb250cm9sbGVyc19fdGlsZXMnKVxuICBjb25zdCB0aWxlcyA9IFtdLnNsaWNlLmNhbGwodGlsZXNfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy50aWxlJykpXG5cbiAgc2xpZGVzX2NvbnRhaW5lci5zdHlsZS53aWR0aCA9IChzbGlkZXMubGVuZ3RoICogNTApICsgJyUnXG4gIHNsaWRlc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKC01MCUvJyArIHNsaWRlcy5sZW5ndGggKyAnKSknXG4gIFxuICBzbGlkZXNbMV0uY2xhc3NOYW1lICs9ICcgc2xpZGVyX19zbGlkZS0tYWN0aXZlJ1xuXG4gIHByZXZfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBwcmV2aW91cygpXG4gIH0pXG5cbiAgbmV4dF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIG5leHQoKVxuICB9KVxuXG4gIHRpbGVzX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKHRpbGVzW3RpbGVzLmluZGV4T2YoZS50YXJnZXQpXSAhPT0gdW5kZWZpbmVkICYmICF0aWxlc1t0aWxlcy5pbmRleE9mKGUudGFyZ2V0KV0uY2xhc3NMaXN0LmNvbnRhaW5zKCd0aWxlLS1hY3RpdmUnKSkge1xuICAgICAgdGlsZXNfY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy50aWxlLS1hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCd0aWxlLS1hY3RpdmUnKVxuICAgICAgZS50YXJnZXQuY2xhc3NOYW1lICs9ICcgdGlsZS0tYWN0aXZlJ1xuXG4gICAgICBjb25zdCBwbGFjZSA9IHNsaWRlcy5pbmRleE9mKHNsaWRlc19jb250YWluZXIucXVlcnlTZWxlY3RvcignW2luZGV4PVwiJyArIHRpbGVzLmluZGV4T2YoZS50YXJnZXQpICsgJ1wiXScpKVxuICAgICAgaWYgKHBsYWNlIDwgMSkge1xuICAgICAgICBwcmV2aW91cygpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwbGFjZSA+IDEpIHtcbiAgICAgICAgbmV4dCgpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICBcbiAgZnVuY3Rpb24gcHJldmlvdXMoKSB7XG4gICAgc2xpZGVzX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19zbGlkZS0tYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zbGlkZS0tYWN0aXZlJylcbiAgICBzbGlkZXNbMF0uY2xhc3NOYW1lICs9ICcgc2xpZGVyX19zbGlkZS0tYWN0aXZlJ1xuICAgIHNsaWRlc19jb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZShjYWxjKCgtNTAlLycgKyBzbGlkZXMubGVuZ3RoICsgJykgKyAoMiogKDUwJS8nICsgc2xpZGVzLmxlbmd0aCArICcpKSknXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzbGlkZXNfY29udGFpbmVyLmNsYXNzTmFtZSArPSAnIHNsaWRlcl9fc2xpZGVzLS1yZXR1cm4nXG4gICAgICBzbGlkZXNfY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoY2FsYygtNTAlLycgKyBzbGlkZXMubGVuZ3RoICsgJykpJ1xuICAgICAgc2xpZGVzWzBdLmJlZm9yZShzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSlcbiAgICAgIHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwoc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX3NsaWRlJykpXG4gICAgfSwgMzAwKVxuICAgIHNsaWRlc19jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zbGlkZXMtLXJldHVybicpXG5cbiAgICB0aWxlc19jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpbGUtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RpbGUtLWFjdGl2ZScpXG4gICAgdGlsZXNbc2xpZGVzWzBdLmdldEF0dHJpYnV0ZSgnaW5kZXgnKV0uY2xhc3NOYW1lICs9ICcgdGlsZS0tYWN0aXZlJ1xuICB9XG4gIFxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNsaWRlc19jb250YWluZXIucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fc2xpZGUtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fc2xpZGUtLWFjdGl2ZScpXG4gICAgc2xpZGVzWzJdLmNsYXNzTmFtZSArPSAnIHNsaWRlcl9fc2xpZGUtLWFjdGl2ZSdcbiAgICBzbGlkZXNfY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUoY2FsYygoLTUwJS8nICsgc2xpZGVzLmxlbmd0aCArICcpIC0gKDIqICg1MCUvJyArIHNsaWRlcy5sZW5ndGggKyAnKSkpJ1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2xpZGVzX2NvbnRhaW5lci5jbGFzc05hbWUgKz0gJyBzbGlkZXJfX3NsaWRlcy0tcmV0dXJuJ1xuICAgICAgc2xpZGVzX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKGNhbGMoLTUwJS8nICsgc2xpZGVzLmxlbmd0aCArICcpKSdcbiAgICAgIHNsaWRlc1tzbGlkZXMubGVuZ3RoLTFdLmFmdGVyKHNsaWRlc1swXSlcbiAgICAgIHNsaWRlcyA9IFtdLnNsaWNlLmNhbGwoc2xpZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX3NsaWRlJykpXG4gICAgfSwgMzAwKVxuICAgIHNsaWRlc19jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19zbGlkZXMtLXJldHVybicpXG5cbiAgICB0aWxlc19jb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpbGUtLWFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ3RpbGUtLWFjdGl2ZScpXG4gICAgdGlsZXNbc2xpZGVzWzJdLmdldEF0dHJpYnV0ZSgnaW5kZXgnKV0uY2xhc3NOYW1lICs9ICcgdGlsZS0tYWN0aXZlJ1xuICB9XG4gIFxuICBsZXQgYXV0b1NsaWRlID0gc2V0SW50ZXJ2YWwobmV4dCwgNTAwMClcbiAgXG4gIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcbiAgICBjbGVhckludGVydmFsKGF1dG9TbGlkZSlcbiAgfSlcbiAgXG4gIHNsaWRlci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgIGF1dG9TbGlkZSA9IHNldEludGVydmFsKG5leHQsIDUwMDApXG4gIH0pXG59XG4iXX0=
